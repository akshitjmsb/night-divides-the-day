<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night Divides the Day</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="src/styles/index.css">
    
    <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://esm.sh/@google/genai"
      }
    }
    </script>

    <!-- All styles moved to external CSS files -->
</head>
<body>

    <div id="app-container" class="app-container">
        <!-- Main App Header -->
        <header class="text-center mb-6">
            <div class="logo-container flex justify-center">
                <svg class="logo-svg" viewBox="0 0 100 80" xmlns="http://www.w3.org/2000/svg">
                    <title>Night Divides the Day Logo</title>
                    <path d="M70,35 C 72,50 68,65 65,68" />
                    <path d="M60,25 C 62,45 58,68 55,70" />
                    <path d="M50,23 C 52,43 48,70 45,72" />
                    <path d="M40,28 C 42,48 38,68 35,70" />
                </svg>
            </div>
            <div class="flex justify-center items-center">
                <h1>Night Divides the Day</h1>
                <span id="dynamic-time-icon" class="theme-icon">☀️</span>
            </div>
            <p id="current-datetime" class="text-xs mt-2"></p>
        </header>

        <!-- Quantum Timer UI - Top Right Corner -->
        <div class="quantum-timer-container absolute top-4 right-4 flex items-center space-x-2">
            <span id="quantum-timer-display" class="font-mono text-sm font-bold text-gray-700">30:00</span>
            <button id="quantum-timer-btn" class="gemini-btn text-xs py-1 px-2">Quantum</button>
        </div>

        <!-- Sync Status -->
        <div id="sync-status" class="hidden text-center text-sm text-gray-600 bg-gray-100 p-2 rounded-md mb-4 transition-opacity duration-300"></div>

        <!-- DYNAMIC MODULE (Always visible, content adapts based on time) -->
        <div id="day-module" class="module active">
            <!-- REFLECT SECTION -->
            <section>
                <div id="life-pointer-display-day" class="life-pointer"></div>
                <!-- Reflection button removed for simplicity -->
                <div id="reflection-prompt-display-day" class="mt-4 text-center italic"></div>
            </section>
            
            <!-- NAVIGATION BUTTONS SECTION -->
            <section class="mobile-section">
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                    <a href="todo.html" 
                       class="todo-toggle-button" 
                       type="button"
                       role="button"
                       aria-label="Navigate to To do page"
                       title="View and manage your tasks">
                        <h2>To do</h2>
                    </a>
                    
                    <a href="quantum.html" 
                       class="todo-toggle-button" 
                       type="button"
                       role="button"
                       aria-label="Navigate to Quantum page"
                       title="Quantum timer and focus sessions">
                        <h2>Quantum</h2>
                    </a>
                    
                    <a href="meditate.html" 
                       class="todo-toggle-button" 
                       type="button"
                       role="button"
                       aria-label="Navigate to Meditate page"
                       title="Meditation and mindfulness sessions">
                        <h2>Meditate</h2>
                    </a>
                    
                    <a href="money.html" 
                       class="todo-toggle-button" 
                       type="button"
                       role="button"
                       aria-label="Navigate to Money page"
                       title="Financial tracking and budgeting">
                        <h2>Money</h2>
                    </a>
                    
                    <a href="health.html" 
                       class="todo-toggle-button" 
                       type="button"
                       role="button"
                       aria-label="Navigate to Health page"
                       title="Health tracking and wellness">
                        <h2>Health</h2>
                    </a>
                    
                    <a href="travel.html" 
                       class="todo-toggle-button" 
                       type="button"
                       role="button"
                       aria-label="Navigate to Travel page"
                       title="Travel planning and adventures">
                        <h2>Travel</h2>
                    </a>
                </div>
            </section>
            
            <!-- LEARN SECTION -->
            <section class="mobile-section">
                <h2>Learn</h2>
                <div class="category-grid grid grid-cols-3 gap-3 sm:gap-2 mt-3">
                    <div id="geopolitics-clickable" class="preview-card module-card" data-module="geopolitics">
                        <div class="module-icon" id="world-order-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">World Order</h3>
                    </div>
                    <div id="tennis-clickable" class="preview-card module-card" data-module="tennis">
                        <div class="module-icon" id="tennis-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Tennis</h3>
                    </div>
                    <div id="coffee-clickable" class="preview-card module-card" data-module="coffee">
                        <div class="module-icon" id="coffee-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Coffee</h3>
                    </div>
                    <div id="guitar-clickable" class="preview-card module-card" data-module="guitar">
                        <div class="module-icon" id="guitar-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Guitar</h3>
                    </div>
                    <div id="history-clickable" class="preview-card module-card" data-module="history">
                        <div class="module-icon" id="history-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">History</h3>
                    </div>
                    <div id="poetry-clickable" class="preview-card module-card" data-module="poetry">
                        <div class="module-icon" id="poetry-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Poetry</h3>
                    </div>
                    <div id="frenchy-clickable-day" class="preview-card cursor-pointer module-card" data-module="french">
                        <div class="module-icon" id="french-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">French</h3>
                    </div>
                    <div id="food-clickable-day" class="preview-card cursor-pointer module-card" data-module="food">
                        <div class="module-icon" id="food-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Today's Food</h3>
                    </div>
                    <div id="analytics-clickable-day" class="preview-card cursor-pointer module-card" data-module="analytics">
                        <div class="module-icon" id="analytics-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Analytics</h3>
                    </div>
                    <div id="hood-clickable-day" class="preview-card cursor-pointer module-card" data-module="hood">
                        <div class="module-icon" id="curious-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Curious</h3>
                    </div>
                    <div id="exercise-clickable-day" class="preview-card cursor-pointer module-card" data-module="exercise">
                        <div class="module-icon" id="exercise-icon"></div>
                        <h3 class="font-bold text-sm sm:text-xs">Exercise</h3>
                    </div>
                </div>
            </section>
        </div>
        
        <footer class="text-center mt-8 py-4 border-t">
            <!-- Footer content removed for simplicity -->
        </footer>
    
        <!-- MODALS -->
        <div id="frenchy-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto">
                <div class="flex justify-between items-center mb-3">
                    <h3 id="modal-frenchy-title" class="text-lg font-bold"></h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div class="rounded-lg border border-gray-300 overflow-x-auto">
                    <table class="w-full min-w-max frenchy-table"><tbody id="modal-frenchy-table-body"></tbody></table>
                </div>
                 <div class="text-center mt-4"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>
    
        <div id="food-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto">
                <div class="flex justify-between items-center mb-3">
                    <h3 id="food-modal-title" class="text-lg font-bold">Meal Plan</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="food-plan-content" class="text-sm max-h-96 overflow-y-auto"></div>
                 <div class="text-center mt-4"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>
    
         <div id="hood-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto">
                <div class="flex justify-between items-center mb-3">
                    <h3 id="hood-modal-title" class="text-lg font-bold"></h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="hood-explanation-content" class="text-sm max-h-96 overflow-y-auto"></div>
                 <div class="text-center mt-4"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>

        <div id="geopolitics-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h3 id="geopolitics-modal-title" class="text-lg font-bold">World Order</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div class="overflow-y-auto">
                    <div id="geopolitics-headlines-content" class="text-sm"></div>
                </div>
                 <div class="text-center mt-4 pt-2 border-t"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>

        <div id="tennis-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold">Tennis Matches</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="tennis-content" class="overflow-y-auto">
                    <!-- JS will populate this -->
                </div>
                 <div class="text-center mt-4 pt-2 border-t"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>

        <div id="coffee-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold">Coffee Industry Insights</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="coffee-content" class="overflow-y-auto">
                    <!-- JS will populate this -->
                </div>
                 <div class="text-center mt-4 pt-2 border-t"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>

        <div id="guitar-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold">Guitar Tab & Lessons</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="guitar-content" class="overflow-y-auto">
                    <!-- JS will populate this -->
                </div>
                 <div class="text-center mt-4 pt-2 border-t"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>

        <div id="history-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold">History Recommendation</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="history-content" class="overflow-y-auto">
                    <!-- JS will populate this -->
                </div>
                 <div class="text-center mt-4 pt-2 border-t"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>

        <div id="poetry-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-2xl w-full mx-auto max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold">Daily Poetry</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="poetry-content" class="overflow-y-auto">
                    <!-- JS will populate this -->
                </div>
                 <div class="text-center mt-4 pt-2 border-t"><button class="chat-context-btn footer-btn">Chat about this</button></div>
            </div>
        </div>

        <div id="exercise-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-4 z-50">
            <div class="modal-content-panel p-4 rounded-lg max-w-4xl w-full mx-auto max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h3 id="exercise-modal-title" class="text-lg font-bold">Exercise Plan</h3>
                    <button class="modal-close-btn text-3xl leading-none font-bold hover:text-black">&times;</button>
                </div>
                <div id="exercise-content" class="overflow-y-auto flex-grow">
                    <!-- Exercise content will be populated by JS -->
                </div>
                <div class="text-center mt-4 pt-2 border-t">
                    <button class="chat-context-btn footer-btn">Chat about this</button>
                </div>
            </div>
        </div>

        <div id="analytics-engineer-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center p-2 sm:p-4 z-50">
            <div class="modal-content-panel p-3 sm:p-4 rounded-lg max-w-4xl w-full mx-auto max-h-[95vh] sm:max-h-[90vh] flex flex-col">
                <!-- Header -->
                <div class="flex justify-between items-center mb-3 sm:mb-4 flex-shrink-0">
                    <h3 class="text-base sm:text-lg font-bold">Analytics Topics</h3>
                    <button class="modal-close-btn text-2xl sm:text-3xl leading-none font-bold hover:text-black transition-colors p-1">
                        &times;
                    </button>
                </div>
                
                <!-- Card Navigation -->
                <div class="flex justify-center items-center mb-3 sm:mb-4 space-x-2 flex-shrink-0">
                    <button id="prev-card-btn" class="p-2 sm:p-3 rounded-full bg-gray-200 hover:bg-gray-300 transition-all duration-200 shadow-sm">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <div id="card-indicators" class="flex space-x-1.5 sm:space-x-2">
                        <!-- Indicators will be populated by JS -->
                    </div>
                    <button id="next-card-btn" class="p-2 sm:p-3 rounded-full bg-gray-200 hover:bg-gray-300 transition-all duration-200 shadow-sm">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- Card Container -->
                <div id="analytics-cards-container" class="flex-grow relative overflow-hidden min-h-0">
                    <div id="analytics-cards-wrapper" class="flex transition-transform duration-300 ease-in-out h-full">
                        <!-- Cards will be populated by JS -->
                    </div>
                </div>
                
                <!-- Footer -->
                <div class="text-center mt-3 sm:mt-4 pt-2 border-t flex-shrink-0">
                    <button class="chat-context-btn footer-btn text-sm sm:text-base">Chat about this</button>
                </div>
            </div>
        </div>
    
        <!-- Archive and Chat modals removed for simplicity -->
    </div>

    <script type="module" src="src/index.tsx"></script>
</body>
</html>